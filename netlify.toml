[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[build.environment]
  NODE_VERSION = "20"
  # Exclude SUPABASE_SERVICE_ROLE_KEY from secrets scanning
  # This key is only used in server-side API routes and never exposed to the client
  # It's safe to exclude from scanning as it's only accessed at runtime in server functions
  SECRETS_SCAN_OMIT_KEYS = "SUPABASE_SERVICE_ROLE_KEY"

